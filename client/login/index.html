<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Evovadu Courses</title>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="mainContent">
        <div class="loginTab">
            <div class="logoBrandTop">
                <h1>EVOVADU</h1>
                <br>
                <p>++BNGVISHU</p>
            </div>
    
            <div class="loginwithgoogle">
                <div class="check1">
                    <input type="checkbox"> I accept <a href="">Terms And Conditions</a>
                </div>
                <div class="check2">
                    <input type="checkbox"> I got eyes on <a href="">Disclaimer</a>
                </div >
                   <div id="g_id_onload" data-client_id="233970668476-qobrm739ibhca2bqamk26o4putrh9ibl.apps.googleusercontent.com" data-callback="handleCredentialResponse" >
                </div>
            </div>
        </div>
    </div>
</body>
 <script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
function handleCredentialResponse(response) {
  const token = response.credential;

  fetch('https://evovadu-backend.onrender.com/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    credentials: 'include',  // ⬅️ Important to allow cookies
    body: JSON.stringify({ token })  // ⬅️ Sending the token
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      // Redirect after successful login
      window.location.href = data.redirect;
    } else {
      alert("Login failed: " + data.message);
    }
  })
  .catch(err => {
    console.error("Error:", err);
    alert("Something went wrong");
  });
}
</script>

</html>